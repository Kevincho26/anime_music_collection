/* =========================================================
   Minimal baseline: typography + layout
   ========================================================= */

/* ===== Self-host fonts ===== */

/* Manrope (text) */
@font-face {
  font-family: "Manrope";
  src: url("../assets/fonts/Manrope-400.woff2") format("woff2");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "Manrope";
  src: url("../assets/fonts/Manrope-600.woff2") format("woff2");
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "Manrope";
  src: url("../assets/fonts/Manrope-700.woff2") format("woff2");
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

/* JetBrains Mono (code) */
@font-face {
  font-family: "JetBrains Mono";
  src: url("../assets/fonts/JetBrainsMono-400.woff2") format("woff2");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "JetBrains Mono";
  src: url("../assets/fonts/JetBrainsMono-600.woff2") format("woff2");
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}

/* Tell Material which fonts to use */
:root {
  --md-text-font: "Manrope", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  --md-code-font: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
}

/* Content width */
.md-content {
  max-width: 1100px;
}

/* Readability */
.md-typeset {
  font-size: 0.98rem;
  line-height: 1.55;
}
.md-typeset h1 { letter-spacing: -0.01em; }
.md-typeset h2, .md-typeset h3 { letter-spacing: -0.008em; }

.md-typeset h3 {
  font-weight: 700;
}

.md-typeset p {
  margin: .65rem 0;
}

/* Links sobrios */
.md-typeset a {
  text-decoration-thickness: 1px;
  text-underline-offset: 3px;
}

/* Scroll suave para anchors */
html { scroll-behavior: smooth; }

/* =========================================================
   Embeds: look "card" minimal (scoped, not global iframes)
   ========================================================= */

/* Prefer wrapping embeds in a container:
   <div class="embed-container"><iframe ...></iframe></div>
*/
.embed-container {
  border-radius: 14px;
  overflow: hidden; /* ensures radius clips the iframe */
  box-shadow: 0 10px 26px rgba(0,0,0,.10);
}

/* If you don't have a wrapper, at least scope to content area */
.md-typeset iframe {
  border: 0;
  border-radius: 14px;
  box-shadow: 0 10px 26px rgba(0,0,0,.10);
}

/* If wrapper exists, avoid double shadows */
.embed-container iframe {
  border-radius: 0;
  box-shadow: none;
}

/* =========================================================
   Buttons under embeds (Spotify/YouTube): consistent pills
   ========================================================= */

.playlist-actions{
  display:flex;
  justify-content:center;
  flex-wrap:wrap;
  gap:.55rem;
  margin:.85rem 0 1.15rem;
  text-align:center;
}

/* si markdown mete <p>, evitamos espacios extra */
.playlist-actions p{ margin:0; }

.playlist-actions .md-button{
  border-radius: 999px;
  padding: .45rem .95rem;
  font-weight: 700;
  margin: 0;
}

/* =========================================================
   Material "grid cards": center content (home / grids)
   ========================================================= */

.md-typeset .grid.cards > ul > li { text-align: center; }
.md-typeset .grid.cards > ul > li img {
  display: block;
  margin: 0.2rem auto 0.6rem auto;
}
.md-typeset .grid.cards > ul > li p { margin: 0.35rem 0; }

/* =========================================================
   Master catalog A–Z: compact + max 5 cards per row
   ========================================================= */

.az-block { margin: .2rem 0 1rem 0; }

.az-summary{
  font-weight: 700;
  opacity: .85;
  padding: .25rem .4rem;
}

/* Desktop: 5 columns fixed width */
.az-grid.grid.cards > ul{
  display: grid;
  gap: .45rem;
  justify-content: center;

  grid-template-columns: repeat(5, 170px);
  max-width: calc(5 * 170px + 4 * .45rem);
  margin: 0 auto;
}

/* Tablet large: 4 columns */
@media (max-width: 1200px){
  .az-grid.grid.cards > ul{
    grid-template-columns: repeat(4, 170px);
    max-width: calc(4 * 170px + 3 * .45rem);
  }
}

/* Tablet: 3 columns */
@media (max-width: 900px){
  .az-grid.grid.cards > ul{
    grid-template-columns: repeat(3, 170px);
    max-width: calc(3 * 170px + 2 * .45rem);
  }
}

/* Mobile: 2 columns */
@media (max-width: 650px){
  .az-grid.grid.cards > ul{
    grid-template-columns: repeat(2, 160px);
    max-width: calc(2 * 160px + 1 * .45rem);
  }
}

/* Small mobile: 1 column */
@media (max-width: 420px){
  .az-grid.grid.cards > ul{
    grid-template-columns: 170px;
    max-width: 170px;
  }
}

/* Compact card padding */
.az-grid.grid.cards > ul > li{
  padding: .35rem .4rem;
}

/* Square thumbs: stable sizing */
.az-thumb{
  width: 100%;
  aspect-ratio: 1 / 1;
  object-fit: cover;
  border-radius: 12px;
  display: block;
  margin: 0 auto .25rem auto;
}

/* =========================================================
   Search results: clean card (thumb + title only)
   ========================================================= */

/* Hard guarantee: no snippets/meta */
.md-search-result__teaser,
.md-search-result__meta {
  display: none !important;
}

/* If JS injects .search-card, style it */
.md-search-result__item .search-card{
  display: flex;
  align-items: center;
  gap: .8rem;
  padding: .45rem .55rem;
  border-radius: 14px;
  text-decoration: none;
  transition: transform .12s ease, box-shadow .12s ease;
  border: 1px solid rgba(0,0,0,.10);
  background: rgba(0,0,0,.02);
}

[data-md-color-scheme="slate"] .md-search-result__item .search-card{
  border-color: rgba(255,255,255,.14);
  background: rgba(255,255,255,.04);
}

.md-search-result__item .search-card:hover{
  transform: translateY(-1px);
  box-shadow: 0 10px 22px rgba(0,0,0,.12);
}

.md-search-result__item .search-thumb{
  width: 72px;
  height: 72px;
  border-radius: 16px;
  object-fit: cover;
  flex: 0 0 auto;
}

.md-search-result__item .search-title{
  font-weight: 700;
  font-size: 1.05rem;
  line-height: 1.2;
}

/* =========================================================
   A–Z (Hybrid)
   ========================================================= */

/* Para que al saltar con # no quede tapado por el header */
.md-content :is(h2,h3)[id^="az-"]{
  scroll-margin-top: calc(var(--md-header-height, 3.2rem) + 3.2rem);
}

/* Wrap: sticky solo cuando usamos barra arriba (móvil/tablet) */
.amc-az-wrap{
  position: sticky;
  top: calc(var(--md-header-height, 3.2rem) + 0.25rem);
  z-index: 5;
  padding: .35rem 0;
  background: var(--md-default-bg-color);
  backdrop-filter: blur(8px);
}

/* Dropdown (solo móvil) */
.amc-az-select{ display:none; margin-bottom:.35rem; }
.amc-az-select select{
  width: 100%;
  padding: .55rem .7rem;
  border-radius: 12px;
  border: 1px solid rgba(0,0,0,.12);
  background: var(--md-default-bg-color);
  color: inherit;
  font-weight: 600;
}
[data-md-color-scheme="slate"] .amc-az-select select{
  border-color: rgba(255,255,255,.14);
}

/* Barra horizontal (móvil/tablet) */
.amc-az-bar{
  display:flex;
  gap: .28rem;
  flex-wrap: nowrap;
  align-items:center;
  padding: .15rem 0;
  overflow-x:auto;
  -webkit-overflow-scrolling: touch;
}
.amc-az-bar::-webkit-scrollbar{ height:8px; }

.amc-az-chip{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding: .22rem .42rem;
  border-radius: 999px;
  border: 1px solid rgba(0,0,0,.12);
  text-decoration: none !important;
  font-weight: 700;
  font-size: .78rem;
  line-height: 1;
  letter-spacing: -0.01em;
  color: inherit;
  background: rgba(0,0,0,.02);
}
[data-md-color-scheme="slate"] .amc-az-chip{
  border-color: rgba(255,255,255,.14);
  background: rgba(255,255,255,.04);
}

/* Highlight (uses accent color) */
.amc-az-chip.is-active{
  border-color: var(--md-accent-fg-color);
}
@supports (color: color-mix(in srgb, white 50%, black)) {
  .amc-az-chip.is-active{
    box-shadow: 0 0 0 2px color-mix(in srgb, var(--md-accent-fg-color) 20%, transparent);
  }
}

/* Rail vertical minimal (desktop) */
.amc-az-rail{
  display:none;
  position: fixed;
  top: calc(var(--md-header-height, 3.2rem) + 1.0rem);
  right: calc(0.8rem + env(safe-area-inset-right));
  z-index: 6;
  padding: .4rem .35rem;
  border: 1px solid rgba(0,0,0,.10);
  border-radius: 14px;
  background: rgba(255,255,255,.85);
  backdrop-filter: blur(10px);
  max-height: calc(100vh - (var(--md-header-height, 3.2rem) + 2.0rem));
  overflow: auto;
}
[data-md-color-scheme="slate"] .amc-az-rail{
  border-color: rgba(255,255,255,.14);
  background: rgba(0,0,0,.35);
}

/* Nicer backgrounds if supported */
@supports (background: color-mix(in srgb, white 80%, transparent)) {
  .amc-az-rail{
    background: color-mix(in srgb, var(--md-default-bg-color) 92%, transparent);
  }
  [data-md-color-scheme="slate"] .amc-az-rail{
    background: color-mix(in srgb, var(--md-default-bg-color) 88%, transparent);
  }
}

.amc-az-rail-link{
  display:block;
  width: 1.7rem;
  text-align:center;
  padding: .18rem 0;
  border-radius: 10px;
  text-decoration:none !important;
  font-weight: 700;
  font-size: .78rem;
  line-height: 1;
  color: inherit;
  opacity: .78;
}
.amc-az-rail-link:hover{ opacity: 1; background: rgba(0,0,0,.04); }
[data-md-color-scheme="slate"] .amc-az-rail-link:hover{ background: rgba(255,255,255,.06); }

.amc-az-rail-link.is-active{
  opacity: 1;
  color: var(--md-accent-fg-color);
}
@supports (background: color-mix(in srgb, white 80%, transparent)) {
  .amc-az-rail-link.is-active{
    background: color-mix(in srgb, var(--md-accent-fg-color) 12%, transparent);
  }
}

/* Móvil: dropdown ON, rail OFF */
@media (max-width: 720px){
  .amc-az-select{ display:block; }
}

/* Desktop ancho: rail ON y barra arriba OFF */
@media (min-width: 1100px){
  .amc-az-wrap{
    position: static;
    padding: 0;
    background: transparent;
    backdrop-filter: none;
  }
  .amc-az-select{ display:none; }
  .amc-az-bar{ display:none; }
  .amc-az-rail{ display:block; }
}

/* Buscar: ocultar el índice completo para que no tape resultados */
html[data-md-state="search"] .amc-az-wrap,
body[data-md-state="search"] .amc-az-wrap{
  display:none !important;
}

/* Header title ellipsis */
.md-header__title .md-ellipsis {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* =========================================================
   A–Z Rail refinement (desktop)
   ========================================================= */

@media (min-width: 1200px) and (pointer: fine) {
  .amc-az-rail{
    right: 0.6rem;
    padding: .28rem .22rem;
    border-radius: 12px;
    border-color: rgba(0,0,0,.08);
    box-shadow: 0 10px 24px rgba(0,0,0,.10);
    opacity: .92;
    transition: opacity .12s ease, transform .12s ease;
  }

  [data-md-color-scheme="slate"] .amc-az-rail{
    border-color: rgba(255,255,255,.12);
    box-shadow: 0 12px 28px rgba(0,0,0,.35);
  }

  .amc-az-rail:hover{
    opacity: 1;
    transform: translateY(-1px);
  }

  .amc-az-rail-link{
    width: 1.45rem;
    padding: .14rem 0;
    border-radius: 9px;
    font-size: .74rem;
    font-weight: 700;
    opacity: .72;
  }

  .amc-az-rail-link:hover{
    opacity: 1;
  }

  .amc-az-rail-link.is-active{
    background: rgba(0,0,0,.06);
  }
  [data-md-color-scheme="slate"] .amc-az-rail-link.is-active{
    background: rgba(255,255,255,.09);
  }

  .amc-az-rail{
    scrollbar-width: thin;
  }
  .amc-az-rail::-webkit-scrollbar{ width: 8px; }
  .amc-az-rail::-webkit-scrollbar-thumb{
    background: rgba(0,0,0,.12);
    border-radius: 999px;
  }
  [data-md-color-scheme="slate"] .amc-az-rail::-webkit-scrollbar-thumb{
    background: rgba(255,255,255,.14);
  }
}

/* Logo más grande en el header (sin aumentar barra) */
.md-header__button.md-logo img {
  width: 2.6rem;
  height: 2.6rem;
}

/* También en el drawer móvil */
.md-nav__button.md-logo img {
  width: 2.6rem;
  height: 2.6rem;
}

/* =========================================================
   Mobile polish (minimal, safe overrides)
   ========================================================= */

@media (max-width: 720px){
  .md-content__inner{
    padding-left: .7rem;
    padding-right: .7rem;
  }

  .amc-az-wrap{
    top: calc(var(--md-header-height, 3.2rem) + 0.15rem);
    padding: .25rem 0;
  }

  .amc-az-chip{
    padding: .18rem .38rem;
    font-size: .76rem;
  }

  .az-grid.grid.cards > ul{
    grid-template-columns: repeat(2, 150px);
    max-width: calc(2 * 150px + 1 * .45rem);
  }

  .az-thumb{
    border-radius: 10px;
  }
  .az-grid.grid.cards > ul > li{
    padding: .30rem .35rem;
  }

  .md-search-result__item .search-thumb{
    width: 64px;
    height: 64px;
    border-radius: 14px;
  }
  .md-search-result__item .search-title{
    font-size: 1.0rem;
  }
}

@media (max-width: 380px){
  .az-grid.grid.cards > ul{
    grid-template-columns: 1fr;
    max-width: 100%;
  }
}

/* =========================================================
   BRAND (clean): pure tones + red accent + NO BLUE buttons
   ========================================================= */

:root{
  --brand-red: #fd4c4c;

  /* Material accent */
  --md-accent-fg-color: var(--brand-red);
  --md-accent-fg-color--transparent: rgba(253, 76, 76, 0.18);
}

/* Light: white bg, black text, red links */
:root[data-md-color-scheme="default"]{
  --md-default-bg-color: #ffffff;
  --md-default-fg-color: #000000;

  --md-primary-bg-color: #ffffff;
  --md-primary-fg-color: #000000;

  --md-typeset-a-color: var(--brand-red);

  --md-footer-bg-color: #ffffff;
  --md-footer-fg-color: #000000;
}

/* Dark: black bg, white text, red links */
:root[data-md-color-scheme="slate"]{
  --md-default-bg-color: #000000;
  --md-default-fg-color: #ffffff;

  --md-primary-bg-color: #000000;
  --md-primary-fg-color: #ffffff;

  --md-typeset-a-color: var(--brand-red);

  --md-footer-bg-color: #000000;
  --md-footer-fg-color: #ffffff;
}

/* Left nav: remove blue → red on hover/active */
.md-nav__link:hover,
.md-nav__link:focus,
.md-nav__link--active,
.md-nav__item--active > .md-nav__link{
  color: var(--brand-red) !important;
}

/* ---------- Buttons: kill any palette blue (primary/normal) ---------- */

/* Base shape */
.md-typeset a.md-button,
.md-typeset .md-button{
  border-radius: 999px;
  box-shadow: none !important;
  background-image: none !important;
  text-decoration: none !important;
}

/* Normal (outline) */
:root[data-md-color-scheme="default"] .md-typeset a.md-button,
:root[data-md-color-scheme="default"] .md-typeset .md-button{
  background: transparent !important;
  color: #000000 !important;
  border: 1px solid #000000 !important;
}

:root[data-md-color-scheme="slate"] .md-typeset a.md-button,
:root[data-md-color-scheme="slate"] .md-typeset .md-button{
  background: transparent !important;
  color: #ffffff !important;
  border: 1px solid #ffffff !important;
}

/* Primary (solid) — this is the one that was turning blue */
:root[data-md-color-scheme="default"] a.md-button--primary,
:root[data-md-color-scheme="default"] .md-button--primary,
:root[data-md-color-scheme="default"] .md-typeset a.md-button--primary,
:root[data-md-color-scheme="default"] .md-typeset .md-button--primary{
  background-color: #000000 !important;
  border-color: #000000 !important;
  color: #ffffff !important;
}

:root[data-md-color-scheme="slate"] a.md-button--primary,
:root[data-md-color-scheme="slate"] .md-button--primary,
:root[data-md-color-scheme="slate"] .md-typeset a.md-button--primary,
:root[data-md-color-scheme="slate"] .md-typeset .md-button--primary{
  background-color: #ffffff !important;
  border-color: #ffffff !important;
  color: #000000 !important;
}

/* Hover: brand red */
.md-typeset a.md-button--primary:hover,
.md-typeset .md-button--primary:hover,
.md-typeset a.md-button--primary:focus,
.md-typeset .md-button--primary:focus{
  background-color: var(--brand-red) !important;
  border-color: var(--brand-red) !important;
  color: #ffffff !important;
}

/* Keep visited stable */
:root[data-md-color-scheme="default"] a.md-button--primary:visited{ color:#ffffff !important; }
:root[data-md-color-scheme="slate"] a.md-button--primary:visited{ color:#000000 !important; }

/* Extra hard override for the exact rule you saw in DevTools */
[data-md-color-primary="black"] .md-button--primary,
[data-md-color-primary="white"] .md-button--primary{
  background-color: inherit !important; /* will be overwritten by scheme rules above */
}

/* =========================================================
   FINAL: Kill Material blue for md-button--primary
   IMPORTANT: targets body[data-md-color-*] (NOT html)
   Desired:
   Light -> border+text BLACK
   Dark  -> border+text WHITE
   ========================================================= */

:root { --brand-red: #fd4c4c; }

/* ---- LIGHT (primary=white) ---- */
[data-md-color-scheme="default"][data-md-color-primary="white"] .md-typeset a.md-button--primary,
[data-md-color-scheme="default"][data-md-color-primary="white"] .md-button--primary {
  background-color: transparent !important;
  border-color: #000 !important;
  color: #000 !important;
  box-shadow: none !important;
}

/* ---- DARK (primary=black) ---- */
[data-md-color-scheme="slate"][data-md-color-primary="black"] .md-typeset a.md-button--primary,
[data-md-color-scheme="slate"][data-md-color-primary="black"] .md-button--primary {
  background-color: transparent !important;
  border-color: #fff !important;
  color: #fff !important;
  box-shadow: none !important;
}

/* Prevent blue focus ring / active styles */
[data-md-color-scheme] .md-button--primary:focus,
[data-md-color-scheme] .md-button--primary:active {
  box-shadow: none !important;
  outline: none !important;
}

/* Optional: hover rojo marca */
[data-md-color-scheme] .md-typeset a.md-button--primary:hover,
[data-md-color-scheme] .md-button--primary:hover {
  background-color: var(--brand-red) !important;
  border-color: var(--brand-red) !important;
  color: #fff !important;
}

/* ================================
   Anison – Catalog (series/) cards
   Cambia borde + icono (lápiz)
   ================================ */

:root{
  --anison-card-accent: #ff4d4d; /* <-- pon tu color aquí */
}

/* SOLO en la página /series/ (catálogo) */
body[data-md-url^="series/"] .md-typeset :is(.admonition, details){
  border-color: var(--anison-card-accent) !important;
}

/* Icono (lápiz) en esa página */
body[data-md-url^="series/"] .md-typeset :is(.admonition-title, summary)::before{
  background-color: var(--anison-card-accent) !important;
}

/* (Opcional) si quieres reforzar el borde completo */
body[data-md-url^="series/"] .md-typeset :is(.admonition, details){
  border: .075rem solid var(--anison-card-accent) !important;
}

/* =========================================================
   Catalog cards (admonitions): kill Material blue (#448aff)
   Works like the button fix: target BODY data-md-color-*
   ========================================================= */

body[data-md-color-scheme] .md-typeset :is(.admonition, details){
  border: .075rem solid #fd4c4c !important; /* <-- tu rojo de marca */
}

/* Pencil icon (and any admonition icon) */
body[data-md-color-scheme] .md-typeset :is(.admonition-title, summary):before{
  background-color: #fd4c4c !important;
}

/* =========================================
   Catalog cards: header (summary/title) bg
   rojo claro/transparente
   ========================================= */

:root{
  --anison-card-accent: #fd4c4c;  /* tu rojo */
  --anison-card-header-bg: rgba(253, 76, 76, 0.12); /* ajusta 0.08–0.18 */
}

/* Fondo del “tab” (donde dice "1 serie") */
body[data-md-color-scheme] .md-typeset details > summary,
body[data-md-color-scheme] .md-typeset .admonition > .admonition-title{
  background-color: var(--anison-card-header-bg) !important;
}

/* =========================================================
   A–Z Catalog cards (titles/links)
   Normal: negro (light) / blanco (dark)
   Hover/Focus: rojo marca
   Scope: SOLO dentro de .az-grid.grid.cards
   ========================================================= */

/* 1) Cambiamos la variable que usa la regla global:
      .md-typeset a { color: var(--md-typeset-a-color); } */
.md-typeset .az-grid.grid.cards{
  --md-typeset-a-color: var(--md-default-fg-color);
}

/* 2) Refuerzo explícito (por si hay reglas más específicas en cards) */
.md-typeset .az-grid.grid.cards a,
.md-typeset .az-grid.grid.cards a:link,
.md-typeset .az-grid.grid.cards a:visited{
  color: var(--md-default-fg-color) !important;
  text-decoration: none !important;
}

/* 3) Hover/Focus en rojo marca */
.md-typeset .az-grid.grid.cards a:hover,
.md-typeset .az-grid.grid.cards a:focus,
.md-typeset .az-grid.grid.cards a:focus-visible,
.md-typeset .az-grid.grid.cards a:active{
  color: var(--brand-red) !important;
  text-decoration: underline !important;
}

/* =========================================================
   Barra flotante derecha (A–Z) – .amc-az-rail
   Normal: negro (light) / blanco (dark)
   Hover/Focus: rojo marca
   ========================================================= */

.md-typeset .amc-az-rail{
  --md-typeset-a-color: var(--md-default-fg-color);
}

.md-typeset .amc-az-rail a,
.md-typeset .amc-az-rail a:link,
.md-typeset .amc-az-rail a:visited{
  color: var(--md-default-fg-color) !important;
  text-decoration: none !important;
}

.md-typeset .amc-az-rail a:hover,
.md-typeset .amc-az-rail a:focus,
.md-typeset .amc-az-rail a:focus-visible,
.md-typeset .amc-az-rail a:active{
  color: var(--brand-red) !important;
  text-decoration: underline !important;
}

/* =========================================================
   Cards + A–Z rail: NORMAL negro/blanco + HOVER rojo
   (robusto: fuerza SOLO cuando NO es hover/focus/active)
   ========================================================= */

:root{
  --anison-red: var(--brand-red);
  --anison-link-light: #000;
  --anison-link-dark: #fff;
}

/* ---------- NORMAL (LIGHT) ---------- */
body[data-md-color-scheme="default"] .md-typeset :is(.az-grid.grid.cards, .amc-az-rail) a:not(:hover):not(:focus):not(:focus-visible):not(:active):not(.md-button),
body[data-md-color-scheme="default"] .md-typeset :is(.az-grid.grid.cards, .amc-az-rail) a:visited:not(:hover):not(:focus):not(:focus-visible):not(:active):not(.md-button){
  color: var(--anison-link-light) !important;
  text-decoration: none !important;
}

/* ---------- NORMAL (DARK) ---------- */
body[data-md-color-scheme="slate"] .md-typeset :is(.az-grid.grid.cards, .amc-az-rail) a:not(:hover):not(:focus):not(:focus-visible):not(:active):not(.md-button),
body[data-md-color-scheme="slate"] .md-typeset :is(.az-grid.grid.cards, .amc-az-rail) a:visited:not(:hover):not(:focus):not(:focus-visible):not(:active):not(.md-button){
  color: var(--anison-link-dark) !important;
  text-decoration: none !important;
}

/* ---------- HOVER / FOCUS (AMBOS MODOS) ---------- */
.md-typeset :is(.az-grid.grid.cards, .amc-az-rail) a:hover,
.md-typeset :is(.az-grid.grid.cards, .amc-az-rail) a:focus,
.md-typeset :is(.az-grid.grid.cards, .amc-az-rail) a:focus-visible,
.md-typeset :is(.az-grid.grid.cards, .amc-az-rail) a:active{
  color: var(--anison-red) !important;
  text-decoration: underline !important;
}
/* =========================================================
   Page titles (H1): rojo en light, blanco en dark
   ========================================================= */

/* (Opcional) Header topic/title */
body[data-md-color-scheme="default"] .md-header__topic,
body[data-md-color-scheme="default"] .md-header__title{
  color: var(--brand-red) !important;
}

body[data-md-color-scheme="slate"] .md-header__topic,
body[data-md-color-scheme="slate"] .md-header__title{
  color: #fff !important;
}

/* =========================================================
   Page titles (H1): rojo en light, blanco en dark
   (fix: md-content__inner y md-typeset están en el MISMO elemento)
   ========================================================= */

body[data-md-color-scheme="default"] .md-content__inner.md-typeset > h1,
body[data-md-color-scheme="default"] .md-typeset h1 {
  color: var(--brand-red) !important;
}

body[data-md-color-scheme="slate"] .md-content__inner.md-typeset > h1,
body[data-md-color-scheme="slate"] .md-typeset h1 {
  color: #fff !important;
}

/* =========================================================
   Left sidebar (nav)
   1) Ocultar "Anison" arriba (site title en el sidebar)
   2) Home y Series con mismo peso/tamaño
   ========================================================= */

/* 1) Quitar el título del sidebar ("Anison") */
.md-sidebar--primary .md-nav--primary > .md-nav__title {
  display: none !important;
}

/* (Opcional) si al ocultarlo queda un hueco arriba, ajusta padding */
.md-sidebar--primary .md-sidebar__scrollwrap {
  padding-top: .4rem !important;
}

/* 2) Unificar tipografía de items (Home, Series, etc.) */
.md-sidebar--primary .md-nav--primary .md-nav__link {
  font-weight: 600 !important;   /* ajusta: 500/600/700 */
  font-size: 1rem !important;    /* ajusta si lo quieres más chico/grande */
}

/* Evitar que el item activo cambie de “peso” */
.md-sidebar--primary .md-nav--primary .md-nav__item--active > .md-nav__link {
  font-weight: 600 !important;
}

/* =========================================================
   Divider vertical estable (desktop full)
   - FIX: usar position:fixed para que no cambie al navegar (instant nav)
   ========================================================= */

@media (min-width: 60em){

  /* apaga cualquier divisor viejo */
  .md-sidebar--primary .md-sidebar__scrollwrap::after{
    content: none !important;
  }

  .md-sidebar--primary::after{
    content: "";
    position: absolute;

    /* misma “separación hacia la izquierda” que tenías */
    left: calc(var(--md-sidebar-width, 10rem) - 40px);

    /* no llega hasta arriba/abajo */
    top: calc(var(--md-header-height, 3.2rem) - 1.2rem);
    height: calc(100vh - var(--md-header-height, 4.0rem) - 4.4rem);

    width: 3px;
    background: var(--brand-red);
    border-radius: 999px;
    pointer-events: none;
    z-index: 5;
  }
}


/* =========================================================
   YouTube buttons (md-button) – Outline normal, Solid on hover
   Normal: fondo transparente, borde visible, texto negro/blanco
   Hover/Focus: fondo rojo + borde rojo + texto blanco (siempre)
   ========================================================= */

/* Base: sin relleno, borde visible */
body[data-md-color-primary] .md-typeset a.md-button[href*="youtube"],
body[data-md-color-primary] .md-typeset a.md-button[href*="youtu.be"]{
  background-color: transparent !important;
  border: 1px solid currentColor !important;
  box-shadow: none !important;
}

/* Normal (LIGHT) */
body[data-md-color-primary][data-md-color-scheme="default"] .md-typeset a.md-button[href*="youtube"],
body[data-md-color-primary][data-md-color-scheme="default"] .md-typeset a.md-button[href*="youtu.be"]{
  color: #000 !important;
}

/* Normal (DARK) */
body[data-md-color-primary][data-md-color-scheme="slate"] .md-typeset a.md-button[href*="youtube"],
body[data-md-color-primary][data-md-color-scheme="slate"] .md-typeset a.md-button[href*="youtu.be"]{
  color: #fff !important;
}

/* Hover/Focus: SOLIDO rojo + texto blanco (en ambos modos) */
body[data-md-color-primary] .md-typeset a.md-button[href*="youtube"]:hover,
body[data-md-color-primary] .md-typeset a.md-button[href*="youtu.be"]:hover,
body[data-md-color-primary] .md-typeset a.md-button[href*="youtube"]:focus,
body[data-md-color-primary] .md-typeset a.md-button[href*="youtu.be"]:focus,
body[data-md-color-primary] .md-typeset a.md-button[href*="youtube"]:focus-visible,
body[data-md-color-primary] .md-typeset a.md-button[href*="youtu.be"]:focus-visible{
  color: #fff !important;
  background-color: var(--brand-red) !important;
  border-color: var(--brand-red) !important;
  box-shadow: none !important;
}

/* =========================================================
   Series pages: Spotify = mismo frame que YouTube (16:9)
   (selector robusto: cualquier iframe de spotify)
   ========================================================= */

:root{
  --anison-embed-max-width: 860px;
}

body[data-md-url^="series/"] .md-typeset iframe[src*="youtube.com/embed"],
body[data-md-url^="series/"] .md-typeset iframe[src*="youtube.com/embed/videoseries"],
body[data-md-url^="series/"] .md-typeset iframe[src*="open.spotify.com"],
body[data-md-url^="series/"] .md-typeset iframe[src*="spotify.com"]{
  display: block !important;
  width: 100% !important;
  max-width: var(--anison-embed-max-width) !important;

  aspect-ratio: 16 / 9 !important;
  height: auto !important;              /* clave: iguala altura por ratio */
  min-height: 240px !important;         /* evita que quede “aplastado” */

  margin: 1rem auto !important;
  border: 0 !important;
  border-radius: 12px;
  overflow: hidden;
}

/* =========================================================
   Series pages: Spotify iframe = mismo ratio que YouTube (16:9)
   (pisa inline aspect-ratio:21/9)
   ========================================================= */

body[data-md-url^="series/"] .md-typeset iframe[src*="open.spotify.com/embed"]{
  aspect-ratio: 16 / 9 !important;  /* igual que YouTube */
  width: 100% !important;
  height: auto !important;
  display: block !important;
  border: 0 !important;
  border-radius: 12px;
  overflow: hidden;
}

/* (Opcional) mismo max-width si tus embeds están centrados */
body[data-md-url^="series/"] .md-typeset iframe[src*="open.spotify.com/embed"],
body[data-md-url^="series/"] .md-typeset iframe[src*="youtube.com/embed"]{
  max-width: 860px !important;      /* ajusta si quieres */
  margin: 1rem auto !important;
}

/* =========================================================
   Anison embeds: YouTube + Spotify con la misma "caja"
   Usa class="anison-embed" en iframes
   ========================================================= */

:root{
  --anison-embed-max-width: 860px; /* ajusta: 720–1000px */
  --anison-embed-radius: 12px;
  --anison-embed-aspect: 16 / 9;
}

/* Base (iframe) */
.md-typeset iframe.anison-embed{
  display: block !important;
  width: 100% !important;
  max-width: var(--anison-embed-max-width) !important;
  margin: 1rem auto !important;

  aspect-ratio: var(--anison-embed-aspect) !important;
  height: auto !important;

  border: 0 !important;
  border-radius: var(--anison-embed-radius) !important;
  overflow: hidden !important;
}

/* Si algún embed trae height/width inline/atributo, lo aplastamos */
.md-typeset iframe.anison-embed[height],
.md-typeset iframe.anison-embed[width]{
  height: auto !important;
  width: 100% !important;
}
/* =========================================================
   Anison – Unified embeds (YouTube + Spotify)
   ========================================================= */

.md-typeset iframe.anison-embed{
  width: 100%;
  aspect-ratio: 16 / 9;
  display: block;
  border: 0;
  overflow: hidden;
}


/* =========================================================
   A–Z rail: no usar --md-typeset-a-color (azul del tema)
   - Base: negro en light, blanco en dark
   - Hover/focus: rojo
   - Hide rail durante búsqueda (evita tapar resultados)
   ========================================================= */

/* Base: redefine el color de links SOLO dentro del rail */
body[data-md-color-scheme="default"] .amc-az-rail{
  --md-typeset-a-color: #000 !important;
}
body[data-md-color-scheme="slate"] .amc-az-rail{
  --md-typeset-a-color: #fff !important;
}

/* Aplica el color base a las letras del rail */
.amc-az-rail a,
.amc-az-rail a:link,
.amc-az-rail a:visited{
  color: var(--md-typeset-a-color) !important;
  -webkit-text-fill-color: var(--md-typeset-a-color) !important; /* iOS */
  text-decoration: none !important;
}

/* Hover/focus/active */
.amc-az-rail a:hover,
.amc-az-rail a:focus,
.amc-az-rail a:focus-visible,
.amc-az-rail a:active{
  color: var(--brand-red) !important;
  -webkit-text-fill-color: var(--brand-red) !important;
}

/* Cuando búsqueda está abierta: ocultar rail (móvil + desktop angosto) */
body[data-md-state="search"] .amc-az-rail{
  display: none !important;
}

/* =========================================================
   FIX FINAL — A–Z (barra horizontal + rail vertical)
   - Quita azul heredado del tema en .amc-az-chip y .amc-az-rail-link
   - Evita que tape resultados del buscador (z-index + hide)
   ========================================================= */

/* 1) Color base por modo (usamos una variable local) */
:root[data-md-color-scheme="default"] { --amc-az-fg: #000; }
:root[data-md-color-scheme="slate"]   { --amc-az-fg: #fff; }

/* 2) FORZAR color en los links reales que genera tu JS:
      - barra horizontal: .amc-az-chip
      - rail vertical:    .amc-az-rail-link
   (Estas clases existen en tu az_nav.js) */
.amc-az-wrap a.amc-az-chip,
.amc-az-wrap a.amc-az-rail-link,
.amc-az-wrap a.amc-az-chip:link,
.amc-az-wrap a.amc-az-rail-link:link,
.amc-az-wrap a.amc-az-chip:visited,
.amc-az-wrap a.amc-az-rail-link:visited{
  color: var(--amc-az-fg) !important;
  -webkit-text-fill-color: var(--amc-az-fg) !important; /* iOS: mata azul */
  text-decoration: none !important;
}

/* Hover/focus/active → rojo */
.amc-az-wrap a.amc-az-chip:hover,
.amc-az-wrap a.amc-az-rail-link:hover,
.amc-az-wrap a.amc-az-chip:focus,
.amc-az-wrap a.amc-az-rail-link:focus,
.amc-az-wrap a.amc-az-chip:focus-visible,
.amc-az-wrap a.amc-az-rail-link:focus-visible,
.amc-az-wrap a.amc-az-chip:active,
.amc-az-wrap a.amc-az-rail-link:active{
  color: var(--brand-red) !important;
  -webkit-text-fill-color: var(--brand-red) !important;
}

/* 3) Buscador SIEMPRE por encima del A–Z */
.md-search,
.md-search__overlay,
.md-search__output,
.md-search__scrollwrap,
.md-search__inner{
  z-index: 9999 !important;
}

/* El A–Z abajo (no tapa resultados) */
.amc-az-wrap{
  z-index: 1 !important; /* antes lo tenías en 5 */
}

/* 4) Cuando el buscador está abierto, ocultar TODO el índice A–Z
   (evita que tape resultados) */
html[data-md-state="search"] .amc-az-wrap,
body[data-md-state="search"] .amc-az-wrap{
  display: none !important;
}

/* =========================================================
   Drawer logo (móvil + desktop angosto)
   Usa el logo del tema (NO usa rutas url())
   ========================================================= */

/* Desktop ancho: seguimos ocultando el título "Anison" arriba del nav */
@media (min-width: 60em){
  .md-sidebar--primary .md-nav--primary > .md-nav__title{
    display: none !important;
  }
}

/* Móvil + desktop angosto: mostrar SOLO el logo encima de Home */
@media (max-width: 59.99em){
  /* Re-activar el title del nav (aunque lo tengas oculto globalmente) */
  .md-sidebar--primary .md-nav--primary > .md-nav__title{
    display: flex !important;
    justify-content: center !important;
    align-items: center !important;
    padding: .85rem 0 .45rem !important;
    margin: 0 !important;
    background: transparent !important;
    box-shadow: none !important;
  }

  /* Ocultar el texto "Anison" */
  .md-sidebar--primary .md-nav--primary > .md-nav__title .md-nav__ellipsis{
    display: none !important;
  }

  /* Centrar el botón del logo */
  .md-sidebar--primary .md-nav--primary > .md-nav__title .md-nav__button.md-logo{
    margin: 0 auto !important;
  }

  /* Tamaño del logo en el drawer */
  .md-sidebar--primary .md-nav--primary > .md-nav__title .md-nav__button.md-logo img{
    width: 72px !important;
    height: 72px !important;
    border-radius: 16px !important;
    box-shadow: 0 10px 26px rgba(0,0,0,.12) !important;
  }
}

/* =========================================================
   Desktop full: ocultar scrollbar visible del sidebar
   (sin romper scroll si algún día lo necesitas)
   ========================================================= */
@media (min-width: 60em){
  .md-sidebar--primary .md-sidebar__scrollwrap{
    scrollbar-width: none;              /* Firefox */
  }
  .md-sidebar--primary .md-sidebar__scrollwrap::-webkit-scrollbar{
    width: 0 !important;                /* Chrome/Safari/Edge */
    height: 0 !important;
  }
}

/* =========================================================
   Móvil + desktop angosto: mostrar SOLO el logo arriba de Home
   usando el logo del tema (no usa url/rutas)
   ========================================================= */
@media (max-width: 59.99em){
  /* si lo tienes oculto globalmente, lo reactivamos solo aquí */
  .md-sidebar--primary .md-nav--primary > .md-nav__title{
    display: flex !important;
    justify-content: center !important;
    align-items: center !important;
    padding: .85rem 0 .45rem !important;
    margin: 0 !important;
    background: transparent !important;
    box-shadow: none !important;
  }

  /* ocultar el texto "Anison" y dejar solo el logo */
  .md-sidebar--primary .md-nav--primary > .md-nav__title .md-nav__ellipsis{
    display: none !important;
  }

  /* agrandar el logo en el drawer */
  .md-sidebar--primary .md-nav--primary > .md-nav__title .md-nav__button.md-logo img{
    width: 72px !important;
    height: 72px !important;
    border-radius: 16px !important;
    box-shadow: 0 10px 26px rgba(0,0,0,.12) !important;
  }
}


/* =========================================================
   MOBILE ONLY: Igualar altura de embeds (Spotify + YouTube)
   - Spotify playlist necesita ~352px (si no, se recorta en iOS)
   - Para consistencia, YouTube usa el mismo alto en móvil
   ========================================================= */

@media (max-width: 720px){

  /* Spotify playlist embed */
  .md-typeset iframe[src*="open.spotify.com/embed"]{
    width: 100% !important;
    height: 352px !important;
    min-height: 352px !important;
    aspect-ratio: auto !important;
  }

  /* YouTube playlist/video embed */
  .md-typeset iframe[src*="youtube.com/embed"]{
    width: 100% !important;
    height: 352px !important;
    min-height: 352px !important;
    aspect-ratio: auto !important;
  }
}
